/*!
 * Packery layout mode PACKAGED v1.1.3
 * sub-classes Packery
 * http://packery.metafizzy.co
 */
;
/*!
 * classie v1.0.1
 * class helper functions
 * from bonzo https://github.com/ded/bonzo
 * MIT license
 * 
 * classie.has( elem, 'my-class' ) -> true/false
 * classie.add( elem, 'my-new-class' )
 * classie.remove( elem, 'my-unwanted-class' )
 * classie.toggle( elem, 'my-class' )
 */
(function(e){function a(h){return new RegExp("(^|\\s+)"+h+"(\\s+|$)")}var d,f,g;if("classList" in document.documentElement){d=function(h,i){return h.classList.contains(i)};f=function(h,i){h.classList.add(i)};g=function(h,i){h.classList.remove(i)}}else{d=function(h,i){return a(i).test(h.className)};f=function(h,i){if(!d(h,i)){h.className=h.className+" "+i}};g=function(h,i){h.className=h.className.replace(a(i)," ")}}function b(i,j){var h=d(i,j)?g:f;h(i,j)}var c={hasClass:d,addClass:f,removeClass:g,toggleClass:b,has:d,add:f,remove:g,toggle:b};if(typeof define==="function"&&define.amd){define("classie/classie",c)}else{if(typeof exports==="object"){module.exports=c}else{e.classie=c}}})(window);(function(b,a){if(typeof define=="function"&&define.amd){define("packery/js/rect",a)}else{if(typeof exports=="object"){module.exports=a()}else{b.Packery=b.Packery||{};b.Packery.Rect=a()}}}(window,function factory(){var b=window.Packery=function(){};function a(c){for(var d in a.defaults){this[d]=a.defaults[d]}for(d in c){this[d]=c[d]}}b.Rect=a;a.defaults={x:0,y:0,width:0,height:0};a.prototype.contains=function(e){var c=e.width||0;var d=e.height||0;return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+c&&this.y+this.height>=e.y+d};a.prototype.overlaps=function(f){var g=this.x+this.width;var c=this.y+this.height;var d=f.x+f.width;var e=f.y+f.height;return this.x<d&&g>f.x&&this.y<e&&c>f.y};a.prototype.getMaximalFreeRects=function(h){if(!this.overlaps(h)){return false}var e=[];var d;var i=this.x+this.width;var c=this.y+this.height;var f=h.x+h.width;var g=h.y+h.height;if(this.y<h.y){d=new a({x:this.x,y:this.y,width:this.width,height:h.y-this.y});e.push(d)}if(i>f){d=new a({x:f,y:this.y,width:i-f,height:this.height});e.push(d)}if(c>g){d=new a({x:this.x,y:g,width:this.width,height:c-g});e.push(d)}if(this.x<h.x){d=new a({x:this.x,y:this.y,width:h.x-this.x,height:this.height});e.push(d)}return e};a.prototype.canFit=function(c){return this.width>=c.width&&this.height>=c.height};return a}));(function(b,a){if(typeof define=="function"&&define.amd){define("packery/js/packer",["./rect"],a)}else{if(typeof exports=="object"){module.exports=a(require("./rect"))}else{var c=b.Packery=b.Packery||{};c.Packer=a(c.Rect)}}}(window,function factory(a){function c(e,d,f){this.width=e||0;this.height=d||0;this.sortDirection=f||"downwardLeftToRight";this.reset()}c.prototype.reset=function(){this.spaces=[];this.newSpaces=[];var d=new a({x:0,y:0,width:this.width,height:this.height});this.spaces.push(d);this.sorter=b[this.sortDirection]||b.downwardLeftToRight};c.prototype.pack=function(f){for(var e=0,d=this.spaces.length;e<d;e++){var g=this.spaces[e];if(g.canFit(f)){this.placeInSpace(f,g);break}}};c.prototype.placeInSpace=function(d,e){d.x=e.x;d.y=e.y;this.placed(d)};c.prototype.placed=function(h){var e=[];for(var g=0,d=this.spaces.length;g<d;g++){var j=this.spaces[g];var f=j.getMaximalFreeRects(h);if(f){e.push.apply(e,f)}else{e.push(j)}}this.spaces=e;this.mergeSortSpaces()};c.prototype.mergeSortSpaces=function(){c.mergeRects(this.spaces);this.spaces.sort(this.sorter)};c.prototype.addSpace=function(d){this.spaces.push(d);this.mergeSortSpaces()};c.mergeRects=function(n){for(var f=0,h=n.length;f<h;f++){var k=n[f];if(!k){continue}var d=n.slice(0);d.splice(f,1);var l=0;for(var e=0,o=d.length;e<o;e++){var g=d[e];var m=f>e?0:1;if(k.contains(g)){n.splice(e+m-l,1);l++}}}return n};var b={downwardLeftToRight:function(e,d){return e.y-d.y||e.x-d.x},rightwardTopToBottom:function(e,d){return e.x-d.x||e.y-d.y}};return c}));(function(b,a){if(typeof define=="function"&&define.amd){define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],a)}else{if(typeof exports=="object"){module.exports=a(require("desandro-get-style-property"),require("outlayer"),require("./rect"))}else{b.Packery.Item=a(b.getStyleProperty,b.Outlayer,b.Packery.Rect)}}}(window,function factory(f,d,c){var e=f("transform");var b=function g(){d.Item.apply(this,arguments)};b.prototype=new d.Item();var a=b.prototype._create;b.prototype._create=function(){a.call(this);this.rect=new c();this.placeRect=new c()};b.prototype.dragStart=function(){this.getPosition();this.removeTransitionStyles();if(this.isTransitioning&&e){this.element.style[e]="none"}this.getSize();this.isPlacing=true;this.needsPositioning=false;this.positionPlaceRect(this.position.x,this.position.y);this.isTransitioning=false;this.didDrag=false};b.prototype.dragMove=function(h,j){this.didDrag=true;var i=this.layout.size;h-=i.paddingLeft;j-=i.paddingTop;this.positionPlaceRect(h,j)};b.prototype.dragStop=function(){this.getPosition();var i=this.position.x!=this.placeRect.x;var h=this.position.y!=this.placeRect.y;this.needsPositioning=i||h;this.didDrag=false};b.prototype.positionPlaceRect=function(h,j,i){this.placeRect.x=this.getPlaceRectCoord(h,true);this.placeRect.y=this.getPlaceRectCoord(j,false,i)};b.prototype.getPlaceRectCoord=function(m,p,o){var h=p?"Width":"Height";var q=this.size["outer"+h];var l=this.layout[p?"columnWidth":"rowHeight"];var i=this.layout.size["inner"+h];if(!p){i=Math.max(i,this.layout.maxY);if(!this.layout.rowHeight){i-=this.layout.gutter}}var n;if(l){l+=this.layout.gutter;i+=p?this.layout.gutter:0;m=Math.round(m/l);var k;if(this.layout.options.isHorizontal){k=!p?"floor":"ceil"}else{k=p?"floor":"ceil"}var j=Math[k](i/l);j-=Math.ceil(q/l);n=j}else{n=i-q}m=o?m:Math.min(m,n);m*=l||1;return Math.max(0,m)};b.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x;this.rect.y=this.placeRect.y};b.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.layout.packer.addSpace(this.rect);this.emitEvent("remove",[this])};return b}));
/*!
 * Packery v1.4.1
 * bin-packing layout library
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2015 Metafizzy
 */
(function(b,a){if(typeof define=="function"&&define.amd){define("packery/js/packery",["classie/classie","get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],a)}else{if(typeof exports=="object"){module.exports=a(require("desandro-classie"),require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item"))}else{b.Packery=a(b.classie,b.getSize,b.Outlayer,b.Packery.Rect,b.Packery.Packer,b.Packery.Item)}}}(window,function factory(f,i,e,a,d,c){a.prototype.canFit=function(j){return this.width>=j.width-1&&this.height>=j.height-1};var h=e.create("packery");h.Item=c;h.prototype._create=function(){e.prototype._create.call(this);this.packer=new d();this.stamp(this.options.stamped);var m=this;this.handleDraggabilly={dragStart:function(){m.itemDragStart(this.element)},dragMove:function(){m.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){m.itemDragEnd(this.element)}};this.handleUIDraggable={start:function l(n){m.itemDragStart(n.currentTarget)},drag:function k(n,o){m.itemDragMove(n.currentTarget,o.position.left,o.position.top)},stop:function j(n){m.itemDragEnd(n.currentTarget)}}};h.prototype._resetLayout=function(){this.getSize();this._getMeasurements();var j=this.packer;if(this.options.isHorizontal){j.width=Number.POSITIVE_INFINITY;j.height=this.size.innerHeight+this.gutter;j.sortDirection="rightwardTopToBottom"}else{j.width=this.size.innerWidth+this.gutter;j.height=Number.POSITIVE_INFINITY;j.sortDirection="downwardLeftToRight"}j.reset();this.maxY=0;this.maxX=0};h.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width");this._getMeasurement("rowHeight","height");this._getMeasurement("gutter","width")};h.prototype._getItemLayoutPosition=function(j){this._packItem(j);return j.rect};h.prototype._packItem=function(j){this._setRectSize(j.element,j.rect);this.packer.pack(j.rect);this._setMaxXY(j.rect)};h.prototype._setMaxXY=function(j){this.maxX=Math.max(j.x+j.width,this.maxX);this.maxY=Math.max(j.y+j.height,this.maxY)};h.prototype._setRectSize=function(n,m){var k=i(n);var j=k.outerWidth;var l=k.outerHeight;if(j||l){j=this._applyGridGutter(j,this.columnWidth);l=this._applyGridGutter(l,this.rowHeight)}m.width=Math.min(j,this.packer.width);m.height=Math.min(l,this.packer.height)};h.prototype._applyGridGutter=function(k,j){if(!j){return k+this.gutter}j+=this.gutter;var m=k%j;var l=m&&m<1?"round":"ceil";k=Math[l](k/j)*j;return k};h.prototype._getContainerSize=function(){if(this.options.isHorizontal){return{width:this.maxX-this.gutter}}else{return{height:this.maxY-this.gutter}}};h.prototype._manageStamp=function(l){var k=this.getItem(l);var j;if(k&&k.isPlacing){j=k.placeRect}else{var m=this._getElementOffset(l);j=new a({x:this.options.isOriginLeft?m.left:m.right,y:this.options.isOriginTop?m.top:m.bottom})}this._setRectSize(l,j);this.packer.placed(j);this._setMaxXY(j)};function g(k,j){return k.position.y-j.position.y||k.position.x-j.position.x}function b(k,j){return k.position.x-j.position.x||k.position.y-j.position.y}h.prototype.sortItemsByPosition=function(){var j=this.options.isHorizontal?b:g;this.items.sort(j)};h.prototype.fit=function(l,j,m){var k=this.getItem(l);if(!k){return}this._getMeasurements();this.stamp(k.element);k.getSize();k.isPlacing=true;j=j===undefined?k.rect.x:j;m=m===undefined?k.rect.y:m;k.positionPlaceRect(j,m,true);this._bindFitEvents(k);k.moveTo(k.placeRect.x,k.placeRect.y);this.layout();this.unstamp(k.element);this.sortItemsByPosition();k.isPlacing=false;k.copyPlaceRectPosition()};h.prototype._bindFitEvents=function(l){var m=this;var k=0;function j(){k++;if(k!=2){return}m.emitEvent("fitComplete",[l])}l.on("layout",function(){j();return true});this.on("layoutComplete",function(){j();return true})};h.prototype.resize=function(){var l=i(this.element);var k=this.size&&l;var j=this.options.isHorizontal?"innerHeight":"innerWidth";if(k&&l[j]==this.size[j]){return}this.layout()};h.prototype.itemDragStart=function(k){this.stamp(k);var j=this.getItem(k);if(j){j.dragStart()}};h.prototype.itemDragMove=function(m,j,o){var l=this.getItem(m);if(l){l.dragMove(j,o)}var n=this;function k(){n.layout();delete n.dragTimeout}this.clearDragTimeout();this.dragTimeout=setTimeout(k,40)};h.prototype.clearDragTimeout=function(){if(this.dragTimeout){clearTimeout(this.dragTimeout)}};h.prototype.itemDragEnd=function(l){var k=this.getItem(l);var j;if(k){j=k.didDrag;k.dragStop()}if(!k||(!j&&!k.needsPositioning)){this.unstamp(l);return}f.add(k.element,"is-positioning-post-drag");var m=this._getDragEndLayoutComplete(l,k);if(k.needsPositioning){k.on("layout",m);k.moveTo(k.placeRect.x,k.placeRect.y)}else{if(k){k.copyPlaceRectPosition()}}this.clearDragTimeout();this.on("layoutComplete",m);this.layout()};h.prototype._getDragEndLayoutComplete=function(n,m){var l=m&&m.needsPositioning;var j=0;var k=l?2:1;var p=this;return function o(){j++;if(j!=k){return true}if(m){f.remove(m.element,"is-positioning-post-drag");m.isPlacing=false;m.copyPlaceRectPosition()}p.unstamp(n);p.sortItemsByPosition();if(l){p.emitEvent("dragItemPositioned",[m])}return true}};h.prototype.bindDraggabillyEvents=function(j){j.on("dragStart",this.handleDraggabilly.dragStart);j.on("dragMove",this.handleDraggabilly.dragMove);j.on("dragEnd",this.handleDraggabilly.dragEnd)};h.prototype.bindUIDraggableEvents=function(j){j.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)};h.Rect=a;h.Packer=d;return h}));
/*!
 * Packery layout mode v1.1.3
 * sub-classes Packery
 * http://packery.metafizzy.co
 */
(function(b,a){if(typeof define=="function"&&define.amd){define(["isotope/js/layout-mode","packery/js/packery","get-size/get-size"],a)}else{if(typeof exports=="object"){module.exports=a(require("isotope-layout/js/layout-mode"),require("packery"),require("get-size"))}else{a(b.Isotope.LayoutMode,b.Packery,b.getSize)}}}(window,function factor(e,h,j){function g(l,k){for(var m in k){l[m]=k[m]}return l}var i=e.create("packery");var b=i.prototype._getElementOffset;var c=i.prototype._getMeasurement;g(i.prototype,h.prototype);i.prototype._getElementOffset=b;i.prototype._getMeasurement=c;var a=i.prototype._resetLayout;i.prototype._resetLayout=function(){this.packer=this.packer||new h.Packer();a.apply(this,arguments)};var f=i.prototype._getItemLayoutPosition;i.prototype._getItemLayoutPosition=function(k){k.rect=k.rect||new h.Rect();return f.call(this,k)};var d=i.prototype._manageStamp;i.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft;this.options.isOriginTop=this.isotope.options.isOriginTop;d.apply(this,arguments)};i.prototype.needsResizeLayout=function(){var m=j(this.element);var l=this.size&&m;var k=this.options.isHorizontal?"innerHeight":"innerWidth";return l&&m[k]!=this.size[k]};return i}));