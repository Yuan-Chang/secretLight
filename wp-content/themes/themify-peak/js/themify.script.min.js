var FixedHeader={},LayoutAndFilter={};(function(c){function a(l,f,j){if("undefined"!==typeof c.fn.infinitescroll){var h=l.next(".load-more");if("auto"===themifyScript.autoInfinite&&!h.hasClass("load-more-show")){h.hide()}var g=parseInt(h.data("max")),k=h.children("a"),i=h.is(":visible");var m={navSelector:k,nextSelector:k,itemSelector:f,appendCallback:true,loadingText:" ",donetext:"",msgText:"",maxPage:g,behavior:h.hasClass("load-more-show")||"auto"!==themifyScript.autoInfinite?"twitter":"",bufferPx:50,page:1,pixelsFromNavToBottom:c("#footerwrap").height()};if(!i){m.loading={img:themifyScript.loadingImg}}else{l.addClass("infinity_without_loader")}if(j){m.path=function(n){if(i){h.addClass("loader-wait")}return k.prop("href").replace(/paging=([0-9]*)/,"paging="+n)}}else{if(i){m.path=function(n){h.addClass("loader-wait");return k.prop("href").replace(/paging=([0-9]*)/,"paging="+n)}}m.pathParse=function(n){return n.match(/^(.*?)\b2\b(?!.*\b2\b)(.*?$)/).slice(1)}}l.infinitescroll(m,function(o,p){var n=c(o);c(".newItems").removeClass("newItems");n.first().addClass("newItems");$scroll=themifyScript.scrollToNewOnLoad;if("reset"===themifyScript.resetFilterOnLoad){LayoutAndFilter.reset()}n.hide().imagesLoaded().always(function(q){c(".wp-audio-shortcode, .wp-video-shortcode").not("div").each(function(){var r=c(this);if(r.closest(".mejs-audio").length===0){ThemifyMediaElement.init(r)}});n.fadeIn();Themify.InitGallery();if("object"===typeof l.data("isotope")){l.isotope("appended",n)}if(c("body").hasClass("tile_enable")){if(l.hasClass("custom_tiles")){d(l,n);if($scroll){$scroll=false;l.on("custom_tiles_ready.themify",function(r){l.off("custom_tiles_ready.themify");LayoutAndFilter.restore(l)})}}else{if(l.hasClass("auto_tiles")){l.trigger("infiniteloaded.themify",[n]);if($scroll){$scroll=false;l.on("auto_tiles_ready.themify",function(r){l.off("auto_tiles_ready.themify");LayoutAndFilter.restore(l)})}}}}if(LayoutAndFilter.filterActive){LayoutAndFilter.enableFilters()}if($scroll){LayoutAndFilter.restore(l)}c("body").trigger("infiniteloaded.themify",[n]);c(window).trigger("resize");c("#infscr-loading").fadeOut("normal");if(1===g){h.remove()}h.removeClass("loader-wait")});g=g-1;if(1<g&&"auto"!==themifyScript.autoInfinite){h.show()}})}}LayoutAndFilter={filterActive:false,init:function(){if(c(".post-filter").length>0){c(".post-filter + .loops-wrapper,.loops-wrapper.grid4,.loops-wrapper.grid3,.loops-wrapper.grid2").not(".builder-posts-wrap,.list-post").prepend('<div class="grid-sizer"></div><div class="gutter-sizer"></div>');this.enableFilters();this.filter();this.filterActive=true}},enableFilters:function(){var f=c(".post-filter");if(f.find("a").length>0&&"undefined"!==typeof c.fn.isotope){f.find("li").each(function(){var i=c(this),h=i.parent().next(),g=i.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","");if(h.find(".post.cat-"+g).length<=0){i.hide()}else{i.show()}})}},filter:function(){var g=c(".post-filter"),f=this,h=c("body").hasClass("rtl");if(g.find("a").length>0&&"undefined"!==typeof c.fn.isotope){g.addClass("filter-visible").on("click","a",function(o){o.preventDefault();if(g.hasClass("filter-disable")){return}g.addClass("filter-disable");var p=c(this).parent(),n=p.parent().next(),l=c("body").hasClass("tile_enable")&&n.hasClass("auto_tiles"),m=n.hasClass("custom_tiles"),k=false,j={gutter:".gutter-sizer"};if(!l){j.columnWidth=".grid-sizer"}if(p.hasClass("active")){p.removeClass("active");if(!l){n.isotope({masonry:j,isResizeBound:m,isOriginLeft:!h,filter:"*"})}}else{p.siblings(".active").removeClass("active");p.addClass("active");k=p.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","");if(!l){n.isotope({masonry:j,isResizeBound:!m,itemSelector:".post",isOriginLeft:!h,filter:".cat-"+k})}}if(!o.isTrigger&&l&&n.data("themify_tiles")){var i=n.children(".post");i.show();if(k){i.not(".cat-"+k).hide()}n.data("themify_tiles").update();setTimeout(function(){c.themify_tiles.resizeParent(n);g.removeClass("filter-disable")},Math.round(parseFloat(n.css("transition-duration"))*1000)+100)}else{g.removeClass("filter-disable")}})}},scrolling:false,reset:function(){c(".post-filter").find("li.active").find("a").addClass("previous-active").trigger("click");this.scrolling=true},restore:function(i){var g=i.find(".newItems").first();if(g){var f=this,j=g.offset().top-(g.outerHeight(true)/2),h=800;if(j>=800){h=800+Math.abs((j/1000)*100)}c("html,body").stop().animate({scrollTop:j},h,function(){f.scrolling=false})}},layout:function(){var f=c(".post-filter + .loops-wrapper,.masonry").not(".builder-posts-wrap,.list-post,.auto_tiles");if(f.length>0){var g=c("body").hasClass("rtl");f.each(function(){var h=c(this).hasClass("custom_tiles");if(c(this).hasClass("masonry")&&h){return}var j=c(this),i=j.children(".post").length>0;if(i&&j.prev(".post-filter").length===0&&j.find(".gutter-sizer").length===0){j.prepend('<div class="grid-sizer"></div><div class="gutter-sizer"></div>')}j.imagesLoaded().always(function(k){j.addClass("masonry-done").isotope({masonry:i?{columnWidth:".grid-sizer",gutter:".gutter-sizer"}:{},isOriginLeft:!g,isResizeBound:!h,itemSelector:i?".post":".item"})})})}}};FixedHeader={headerHeight:0,hasHeaderSlider:false,headerSlider:false,init:function(){FixedHeader.calculateHeaderHeight();c("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight));if(""!==themifyScript.fixedHeader){FixedHeader.activate();c(window).on("scroll touchstart.touchScroll touchmove.touchScroll",FixedHeader.activate)}c(window).on("debouncedresize",function(){FixedHeader.calculateHeaderHeight();c("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight))});if(c("#gallery-controller").length>0){FixedHeader.hasHeaderSlider=true}c(window).load(FixedHeader.calculateHeaderHeight);c("body").on("announcement_bar_position",FixedHeader.calculateHeaderHeight);c("body").on("announcement_bar_scroll_on_after",FixedHeader.calculateHeaderHeight)},activate:function(){var h=c(window),g=h.scrollTop(),f=c("#headerwrap");c("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight));if(g>=FixedHeader.headerHeight){if(!f.hasClass("fixed-header")){FixedHeader.scrollEnabled()}}else{if(f.hasClass("fixed-header")){FixedHeader.scrollDisabled()}}},scrollDisabled:function(){c("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight));c("#headerwrap").removeClass("fixed-header");c("#header").removeClass("header-on-scroll");c("body").removeClass("fixed-header-on");if(FixedHeader.hasHeaderSlider&&"object"===typeof c("#headerwrap").data("backstretch")){c("#headerwrap").data("backstretch").resize();c("#gallery-controller .slides").trigger("next")}},scrollEnabled:function(){c("#headerwrap").addClass("fixed-header");c("#header").addClass("header-on-scroll");c("body").addClass("fixed-header-on");if(FixedHeader.hasHeaderSlider&&"object"===typeof c("#headerwrap").data("backstretch")){c("#headerwrap").data("backstretch").resize();c("#gallery-controller .slides").trigger("next")}},calculateHeaderHeight:function(){FixedHeader.headerHeight=c("#headerwrap").outerHeight(true)}};var d=function(g,f){if(g.find(".post-tiled").length===0){return}g.imagesLoaded().always(function(q){var o=f?f.find(".post"):g.find(".post-tiled");if(f){g.masonry("appended",f)}else{var j=c('<div class="gutter-sizer" style="visibility: hidden !important; opacity: 0;" />').appendTo(g);var n=j.width();j.remove();var k=g.find(".post-tiled.tiled-square-small"),p=g.find(".post-tiled.tiled-square-large"),l=g.find(".post-tiled.tiled-landscape"),m=g.find(".post-tiled.tiled-portrait");if(k.length>0){var h=k.width();k.height(h)}else{var i=c('<div class="post-tiled tiled-square-small" style="visibility: hidden !important; opacity: 0;" />').appendTo(g);var h=i.width();i.remove()}if(p.length>0){p.height((h*2)+n)}if(l.length>0){l.height(h)}if(m.length>0){m.height((h*2)+n)}g.masonry({isResizeBound:false,itemSelector:".post-tiled",columnWidth:h,gutter:n})}o.each(function(){e(c(this).find(".post-image"))});g.addClass("loading-finish").trigger("custom_tiles_ready.themify")})};function e(g){var f=g.find("img"),j=f.prop("src");if(j){g.backstretch(j);var i=g.find("a"),h=i;i.remove();f.remove();g.find("img").wrap(h)}}function b(f){if(c(window).width()>680){f.imagesLoaded().done(function(g){e(f)})}}c(document).ready(function(){var k=c("body"),m=c(window);FixedHeader.init();if(c.fn.flexslider){c(".flexslider").imagesLoaded().done(function(n){c(".flexslider").flexslider({animation:"slide"})})}var j=c(".single-split-layout .featured-area>.post-image");if(j.length>0){b(j);m.on("debouncedresize",function(){if(m.width()<=680){if(j.data("backstretch")){j.html(j.find(".backstretch").html());j.find("img").removeAttr("style");j.removeAttr("style")}}else{b(j)}})}if(c(".has-mega-sub-menu").length){Themify.LoadAsync(themifyScript.themeURI+"/js/themify.mega-menu.js",null,null,null,function(){return("undefined"!==typeof c.fn.ThemifyMegaMenu)})}c(".loops-wrapper").each(function(){var n=c(this).children(".post-filter");if(n.length>0){c(this).before(n)}});LayoutAndFilter.init();LayoutAndFilter.layout();c(".loops-wrapper.custom_tiles,.loops-wrapper.auto_tiles").addClass("tiled");if(k.hasClass("tile_enable")){if(c(".loops-wrapper.custom_tiles").length>0){c(".loops-wrapper.custom_tiles").each(function(){var n=c(this);d(n);c(window).on("debouncedresize",function(){d(n)})})}if(c(".loops-wrapper.auto_tiles").length>0){var h=c(".loops-wrapper.auto_tiles");var l=c('<div class="post-tiled tiled-square-small" style="visibility: hidden !important; opacity: 0;" />').appendTo(h.first());var i=parseFloat(l.width());l.remove();var g=themifyScript.tiledata.padding;h.each(function(){var n=c(this);c(this).imagesLoaded().always(function(p){var o=n.children(".post");themifyScript.tiledata.padding=n.hasClass("no-gutter")?0:g;n.themify_tiles(themifyScript.tiledata,i);setClasses(o,i)})})}}if(k.hasClass("woocommerce")&&k.hasClass("archive")){a(c("#content ul.products"),"#content .product")}c(".loops-wrapper").each(function(){var n=c(this).find(".load-more");if(n.length>0){c(this).after(n);a(c(this),".post",true)}else{if(c(this).next(".load-more").length>0){a(c(this),".post",false)}}});c(".back-top a").click(function(){c("body,html").animate({scrollTop:0},800);return false});if(c("body").hasClass("touch")&&typeof jQuery.fn.themifyDropdown!=="function"){Themify.LoadAsync(themify_vars.url+"/js/themify.dropdown.js",function(){c("#main-nav").themifyDropdown()},null,null,function(){return("undefined"!==typeof c.fn.themifyDropdown)})}c("#menu-icon").themifySideMenu({close:"#menu-icon-close"});var f=c('<div class="body-overlay">');k.append(f).on("sidemenushow.themify",function(){f.addClass("body-overlay-on")}).on("sidemenuhide.themify",function(){f.removeClass("body-overlay-on")}).on("click.themify touchend.themify",".body-overlay",function(){c("#menu-icon").themifySideMenu("hide")});c(window).resize(function(){var n=c(window).width();if(n>tf_mobile_menu_trigger_point){c("#menu-icon").themifySideMenu("hide")}});m.resize(function(){if(c("#menu-icon").is(":visible")&&c("#mobile-menu").hasClass("sidemenu-on")){f.addClass("body-overlay-on")}else{f.removeClass("body-overlay-on")}});m.resize(function(){var n=c(window).width();if(n>780){c("body").removeAttr("style")}});m.resize(function(){var n=c("#header").width();var o=c(window).width();if(o>tf_mobile_menu_trigger_point){c("#main-nav li.has-mega-column > .mega-column-wrapper, #main-nav li.has-mega-sub-menu > .mega-sub-menu").css("width",n)}else{c("#main-nav li.has-mega-column > .mega-column-wrapper").removeAttr("style");c("#main-nav li.has-mega-sub-menu > .mega-sub-menu").removeAttr("style")}})});c(window).load(function(){var h=c("body"),f=c(window);var m=c("#main-nav-wrap, #searchform-wrap, .social-widget");var o,l,k;if(k===undefined){o=c('<div class="scrollbar-parent"><div/></div>').appendTo("body");l=o.children();k=l.innerWidth()-l.height(99).innerWidth();o.remove()}if(m.length>0){themifyScript.smallScreen=parseInt(themifyScript.smallScreen,10);themifyScript.resizeRefresh=parseInt(themifyScript.resizeRefresh,10);var i=function(){return c(window).width()<=themifyScript.smallScreen},n=c(".slideout-widgets"),g=c("#menu-wrapper");if(i()){m.detach().insertBefore(n)}if(!("orientation" in window)){var p=false;f.resize(function(){p=true});var p=false;f.on("resize",function(){p=true});setInterval(function(){if(p){p=false;h.trigger("didresize.themify")}},250)}var j=false;f.on("scroll",function(){j=true});setInterval(function(){if(j){j=false;h.trigger("didscroll.themify")}},250);h.on("didresize.themify",function(){var q=c("#mobile-menu").hasClass("sidemenu-on")?c(window).outerWidth():(c(window).outerWidth()+k);if(q<=tf_mobile_menu_trigger_point){m.detach().insertBefore(n)}else{m.detach().prependTo(g)}})}c("#main-nav li").on("mouseenter mouseleave dropdown_open",function(u){if(c("ul",this).length){var x=c("ul:first",this);var v=x.offset();var r=v.left;var q=x.width();var s=c(window).width();var t=(r+q<=s);if(!t){c(this).addClass("edge")}else{c(this).removeClass("edge")}}})});c(document).on("click",".likeit",function(h){h.preventDefault();var j=c(this),g=j.parent(),f=j.data("postid"),i=c("#loops-wrapper");c.post(themifyScript.ajax_url,{action:"themify_likeit",nonce:themifyScript.ajax_nonce,post_id:f},function(k){data=c.parseJSON(k);if("new"==data.status){c(".newliker",g).fadeIn();c("ins",j).fadeOut("slow",function(){c(this).text(data.likers).fadeIn("slow")});i.isotope("layout")}if("isliker"==data.status){c(".newliker",g).hide();c(".isliker",g).fadeIn();i.isotope("layout")}})})})(jQuery);